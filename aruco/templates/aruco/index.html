<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8">
        {% load static %}
		<script type="text/javascript" src="{% static "js/jquery.min.js" %}"></script>
		<script type="text/javascript" src="{% static "js/fabric.min.js" %}"></script>
		<script type="text/javascript" src="{% static "js/Ply.min.js" %}"></script>
		<script type="text/javascript" src="{% static "js/bootstrap.min.js" %}"></script>
        <script type="text/javascript" src="{% static "js/dict.json" %}"></script>
        <link rel="stylesheet" href="{% static "css/bootstrap.min.css" %}">
        <link rel="stylesheet" href="{% static "css/ply.css" %}">
        <link rel="stylesheet" href="{% static "css/main.css" %}">
		<title>Clever Web</title>
	</head>
	<body>
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
			<a href=".." class="navbar-brand">Clever Web</a>
			<!--<ul class="on-a-top navbar-nav mr-auto">
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Файл</a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdown">
						<a class="dropdown-item" href="#">Action</a>
						<a class="dropdown-item" href="#">Another action</a>
						<div class="dropdown-divider"></div>
						<a class="dropdown-item" href="#">Something else here</a>
					</div>
				</li>
				<li class="nav-item">
					<a class="nav-link">Hello</a>
				</li>
				<li class="nav-item">
					<a class="nav-link">Hello</a>
				</li>
			</ul>
			<img onclick="startTraining()" class="question-image" src="{% static "css/svg/question.svg" %}" alt="" />-->
            <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#filePicker">Открыть файл</button>
		</nav>
		<div class="root-container">
			<div class="aruco-field-container col" id="aruco-field-container">
				<canvas id="c"></canvas>
			</div>
			<div id="aruco-info" class="aruco-configer-container col-md-auto">
				<div class="aruco-info col">
					<form>
						<div class="form-group">
							<label for="inputID">ID</label>
							<input type="number" class="form-control" id="inputID" placeholder="Aruco ID">
						</div>
						<div class="form-group">
							<label for="markerSide">Сторона, мм</label>
							<input type="number" class="form-control" id="markerSide" placeholder="Сторона метки">
						</div>
						<div class="form-row">
							<div class="col">
								<label for="inputX">X, мм</label>
								<input type="number" class="form-control" id="inputX" placeholder="Сдвиг по оси X">
							</div>
							<div class="col">
								<label for="inputY">Y, мм</label>
								<input type="number" class="form-control" id="inputY" placeholder="Сдвиг по оси Y">
							</div>
						</div>
						<div class="form-row">
							<div class="col">
								<label for="inputZ">Z, мм</label>
								<input type="number" class="form-control" id="inputZ" placeholder="Сдвиг по оси Z">
							</div>
							<div class="col">
								<label for="inputAngle">α, °</label>
								<input type="number" class="form-control" id="inputAngle" placeholder="Угол поворота">
							</div>
						</div>
						<div class="form-group">
							<div class="btn-group" role="group" aria-label="Basic example">
								<button alt="Сделать нулевой" type="button" id="zerocheck" class="btn btn-primary star-button"><img id="starIcon" class="star-icon" alt="" src="{% static "css/svg/graystar.png" %}" /><div id="starText" style="width: 100%;">Сделать метку главной</div></button>
								<button alt="Удалить выбранные объекты" type="button" id="delete" onclick="removeSelected()" class="btn btn-primary btn-danger delete-button"><div id="starText" style="width: 100%;">Удалить</div></button>
							</div>
						</div>
					</form>
				</div>
			</div>
			<div id="multi-aruco-info" class="aruco-configer-container col-md-auto">
				<div class="aruco-info col">
					<form>
						<div class="form-row">
							<div class="col">
								<label for="markerSide">Ширина, мм</label>
								<input type="number" class="form-control" id="multiMarkerWidth" placeholder="Ширина" disabled>
							</div>
							<div class="col">
								<label for="markerSide">Высота, мм</label>
								<input type="number" class="form-control" id="multiMarkerHeight" placeholder="Высота" disabled>
							</div>
						</div>
						<div class="form-row">
							<div class="col">
								<label for="inputX">X, мм</label>
								<input type="number" class="form-control" id="multiInputX" placeholder="Сдвиг по оси X">
							</div>
							<div class="col">
								<label for="inputY">Y, мм</label>
								<input type="number" class="form-control" id="multiInputY" placeholder="Сдвиг по оси Y">
							</div>
						</div>
						<div class="form-group">
							<button alt="Удалить выбранные объекты" type="button" id="delete" onclick="removeSelected()" class="btn btn-primary btn-danger delete-button"><div id="starText" style="width: 100%;">Удалить</div></button>
						</div>
					</form>
				</div>
			</div>
		</div>
        <div class="file-picker-container">
            <div class="modal fade" id="filePicker" role="dialog">
                <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h4 class="modal-title">Выберите файл</h4>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body list-group">
                            {% for file in files %}
                                <button class="list-group-item list-group-item-action" onclick="loadFile('{{ file }}')">{{ file }}</button>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
		<button id="new-aruco" class="new-aruco" onclick="expand()">
		<div id="hidden" class="hidden">
			<div class="new-aruco-header">Создать</div>
			<div onclick="createOneMarker()" class="new-aruco-button">
				<img src="{% static "css/svg/square.svg" %}" id="aruco-pic" class="new-aruco-pic" />
				<div>Одну метку</div>
			</div>
			<div onclick="createMultipleMarkers()" class="new-aruco-button">
				<img src="{% static "css/svg/squares.svg" %}" id="aruco-pic2" class="new-aruco-pic" />
				<div>Несколько меток</div>
			</div>
			<div onclick="createGrid()" class="new-aruco-button">
				<img src="{% static "css/svg/cell.svg" %}" id="aruco-pic3" class="new-aruco-pic" />
				<div>Сетку</div>
			</div>
		</div>
		</button>
		<img onclick="expand()" id="aruco-plus" class="aruco-plus" src="{% static "css/svg/plus.svg" %}" alt="" />
		<div id="aruco-send-content" onclick="generateMap()" class="aruco-send"></div>
		<img id="aruco-send" onclick="showArucoSendContent()" class="aruco-send" src="{% static "css/svg/galochka.svg" %}" alt="">
		<div id="blocker" class="blocker"></div>
		<div id="hint" class="hint">
			<div id="hint-content" class="hint-content"></div>
			<div><button id="hint-button" type="button" class="btn btn-success">Далее</button></div>
		</div>
		<div id="context-menu" class="context-menu">
			<!-- При изменении этой хуйни обратитесь к Игорю со словом "подсказки" -->
			<div class="context-menu-item">Изменить размеры поля</div>
			<div onclick="toggleMaget()" id="magnetTogglerContainer" style="display: flex; flex-direction: row; transition: .2s;">
				<div class="context-menu-item" id="magnetToggler" onclick="toggleMaget()">Настроить привязку</div>
				<img id="magnetTogglerImg" src="{% static "css/svg/arrow.svg" %}" onclick="toggleMaget()" alt="" style="transition: .2s; width: auto; height: 14px; margin-top: 13px; margin-left: 10px;" />
			</div>
			<div class="context-menu-item" id="gridToggler" onclick="toggleGrid()">Показать сетку</div>
			<div class="context-menu-item" id="gridSettings" onclick="createGrid()">Настроить сетку</div>
			<div class="context-menu-item">Очистить</div>
			<div class="context-menu-item">...</div>
		</div>
		<div id="magnet-context-menu" class="context-menu width-menu">
			<!-- При изменении этой хуйни обратитесь к Игорю со словом "подсказки" -->
			<div id="magnetTogglerContainer" onmouseout="this.style.backgroundColor='#EEEEEE'; document.getElementById('context-item-center').style.backgroundColor='#EEEEEE';"
				onmouseover="document.getElementById('context-item-center').style.backgroundColor='#02a676'; this.style.backgroundColor='#02a676';" style="display: flex; flex-direction: row; transition: .2s;">
				<img id="magnetTogglerImgcenter" src="{% static "css/svg/tick.png" %}" alt="" style="transition: .2s; width: auto; height: 14px; margin-top: 13px; margin-left: 13px;" />
				<div class="context-menu-item" id="context-item-center" onclick="magnetSettings('center')">Центр</div>
			</div>
			<div id="magnetTogglerContainer" onmouseout="this.style.backgroundColor='#EEEEEE'; document.getElementById('context-item-right-top').style.backgroundColor='#EEEEEE';"
				onmouseover="document.getElementById('context-item-right-top').style.backgroundColor='#02a676'; this.style.backgroundColor='#02a676'" style="display: flex; flex-direction: row; transition: .2s;">
				<img id="magnetTogglerImgright-top" src="{% static "css/svg/cross.svg" %}" alt="" style="transition: .2s; width: auto; height: 14px; margin-top: 13px; margin-left: 13px;" />
				<div class="context-menu-item" id="context-item-right-top" onclick="magnetSettings('right-top')">Правый верхний угол</div>
			</div>
			<div id="magnetTogglerContainer" onmouseout="this.style.backgroundColor='#EEEEEE'; document.getElementById('context-item-right-bottom').style.backgroundColor='#EEEEEE';"
				onmouseover="document.getElementById('context-item-right-bottom').style.backgroundColor='#02a676'; this.style.backgroundColor='#02a676'" style="display: flex; flex-direction: row; transition: .2s;">
				<img id="magnetTogglerImgright-bottom" src="{% static "css/svg/cross.svg" %}" alt="" style="transition: .2s; width: auto; height: 14px; margin-top: 13px; margin-left: 13px;" />
				<div class="context-menu-item" id="context-item-right-bottom" onclick="magnetSettings('right-bottom')">Правый нижний угол</div>
			</div>
			<div id="magnetTogglerContainer" onmouseout="this.style.backgroundColor='#EEEEEE'; document.getElementById('context-item-left-top').style.backgroundColor='#EEEEEE';"
				onmouseover="document.getElementById('context-item-left-top').style.backgroundColor='#02a676'; this.style.backgroundColor='#02a676'" style="display: flex; flex-direction: row; transition: .2s;">
				<img id="magnetTogglerImgleft-top" src="{% static "css/svg/cross.svg" %}" alt="" style="transition: .2s; width: auto; height: 14px; margin-top: 13px; margin-left: 13px;" />
				<div class="context-menu-item" id="context-item-left-top" onclick="magnetSettings('left-top')">Левый верхний угол</div>
			</div>
			<div id="magnetTogglerContainer" onmouseout="this.style.backgroundColor='#EEEEEE'; document.getElementById('context-item-left-bottom').style.backgroundColor='#EEEEEE';"
				onmouseover="document.getElementById('context-item-left-bottom').style.backgroundColor='#02a676'; this.style.backgroundColor='#02a676'" style="display: flex; flex-direction: row; transition: .2s;">
				<img id="magnetTogglerImgleft-bottom" src="{% static "css/svg/cross.svg" %}" alt="" style="transition: .2s; width: auto; height: 14px; margin-top: 13px; margin-left: 13px;" />
				<div class="context-menu-item" id="context-item-left-bottom" onclick="magnetSettings('left-bottom')">Левый нижний угол</div>
			</div>
			<div id="magnetTogglerContainer" onmouseout="this.style.backgroundColor='#EEEEEE'; document.getElementById('context-item-rotate').style.backgroundColor='#EEEEEE';"
				onmouseover="document.getElementById('context-item-rotate').style.backgroundColor='#02a676'; this.style.backgroundColor='#02a676'" style="display: flex; flex-direction: row; transition: .2s;">
				<img id="magnetTogglerImgrotate" src="{% static "css/svg/tick.png" %}" alt="" style="transition: .2s; width: auto; height: 14px; margin-top: 13px; margin-left: 13px;" />
				<div class="context-menu-item" id="context-item-rotate" onclick="magnetSettings('rotate')">Привязка по углу</div>
			</div>
			<div id="magnetTogglerContainer" onmouseout="this.style.backgroundColor='#EEEEEE'; document.getElementById('context-item-resize').style.backgroundColor='#EEEEEE';"
				onmouseover="document.getElementById('context-item-resize').style.backgroundColor='#02a676'; this.style.backgroundColor='#02a676'" style="display: flex; flex-direction: row; transition: .2s;">
				<img id="magnetTogglerImgresize" src="{% static "css/svg/cross.svg" %}" alt="" style="transition: .2s; width: auto; height: 14px; margin-top: 13px; margin-left: 13px;" />
				<div class="context-menu-item" id="context-item-resize" onclick="magnetSettings('resize')">Привязка по масштабированию</div>
			</div>
		</div>

        <script type="text/javascript" src="{% static "js/design.js" %}"></script>
        <script type="text/javascript" src="{% static "js/tutorial.js" %}"></script>
        <script type="text/javascript" src="{% static "js/context_menu.js" %}"></script>
        <script type="text/javascript" src="{% static "js/prompts.js" %}"></script>
        <script type="text/javascript" src="{% static "js/main.js" %}"></script>
	</body>
</html>
